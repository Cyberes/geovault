{% load i18n static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            {% block head_title %}
            {% endblock head_title %} - GeoVault
        </title>
        <script src="{% static 'js/tailwindcss.js' %}"></script>
        <style>
            /* Style Django form fields */
            input[type="text"],
            input[type="email"],
            input[type="password"],
            input[type="url"],
            input[type="number"],
            input[type="tel"],
            textarea,
            select {
                width: 100%;
                padding: 0.5rem 0.75rem;
                border: 1px solid #d1d5db;
                border-radius: 0.375rem;
                box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
                font-size: 0.875rem;
                line-height: 1.25rem;
            }
            
            input[type="text"]:focus,
            input[type="email"]:focus,
            input[type="password"]:focus,
            input[type="url"]:focus,
            input[type="number"]:focus,
            input[type="tel"]:focus,
            textarea:focus,
            select:focus {
                outline: none;
                border-color: #3b82f6;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            }
            
            input:disabled,
            textarea:disabled,
            select:disabled {
                background-color: #f3f4f6;
                cursor: not-allowed;
            }
            
            /* Style password validation lists */
            ul.errorlist {
                list-style: none;
                padding: 0;
                margin: 0 0 0.5rem 0;
            }
            
            ul.errorlist li {
                font-size: 0.875rem;
                color: #dc2626;
                margin-bottom: 0.25rem;
            }
            
            /* Style help text and validation messages */
            .helptext {
                font-size: 0.875rem;
                color: #6b7280;
                margin-top: 0.5rem;
            }
            
            ul.helptext {
                font-size: 0.875rem;
                color: #6b7280;
                margin-top: 0.5rem;
                list-style: disc;
                list-style-position: inside;
            }
            
            ul.helptext li {
                margin-bottom: 0.25rem;
            }
            
            /* Hide the automatic "Forgot your password?" link from password field help text */
            /* Only hide links in help text divs (mt-2 or helptext), not in mb-4 divs */
            form div.mt-2.text-sm.text-gray-500 a[href*="password/reset"],
            form .helptext a[href*="password/reset"] {
                display: none !important;
            }
        </style>
        {% block extra_head %}
        {% endblock extra_head %}
    </head>
    <body class="min-h-screen bg-gray-50">
        {% block body %}
            <!-- Navigation Header -->
            <nav class="bg-white shadow-sm border-b border-gray-200">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between h-16">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <a href="/" class="text-xl font-bold text-gray-900">GeoVault</a>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            {% if user.is_authenticated %}
                                <span class="text-sm font-medium text-gray-900">{{ user.email }}</span>
                                <a href="/" class="text-sm font-medium text-gray-500 hover:text-gray-700">Home</a>
                                {% url 'account_logout' as logout_url_ %}
                                {% if logout_url_ %}
                                    <a href="{{ logout_url_ }}" class="text-sm font-medium text-gray-500 hover:text-gray-700">{% trans "Sign Out" %}</a>
                                {% endif %}
                            {% else %}
                                {% url 'account_login' as login_url_ %}
                                {% if login_url_ %}
                                    <a href="{{ login_url_ }}" class="text-sm font-medium text-gray-500 hover:text-gray-700">{% trans "Sign In" %}</a>
                                {% endif %}
                                {% url 'account_signup' as signup_url_ %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Messages -->
            {% if messages %}
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
                    {% for message in messages %}
                        <div class="mb-4 p-4 rounded-md {% if message.tags == 'error' or message.tags == 'danger' %}bg-red-50 text-red-800{% elif message.tags == 'success' %}bg-green-50 text-green-800{% elif message.tags == 'warning' %}bg-yellow-50 text-yellow-800{% else %}bg-blue-50 text-blue-800{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Main Content -->
            <main class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                {% block content %}
                {% endblock content %}
            </main>
        {% endblock body %}
        {% block extra_body %}
        {% endblock extra_body %}
    </body>
</html>
